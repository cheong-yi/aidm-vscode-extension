{
  "name": "aidm-vscode-extension",
  "extensionDependencies": [
    "vscode.git"
  ],
  "displayName": "AiDM VSCode Extension",
  "description": "Bridge business requirements and code implementation with AI-powered context for enterprise development",
  "version": "0.82.1",
  "_versionNotes": "Auto-packaged version 0.82.1 - 2025-08-29",
  "publisher": "aidm-team",
  "author": {
    "name": "AiDM Team"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/aidm-team/vscode-extension"
  },
  "bugs": {
    "url": "https://github.com/aidm-team/vscode-extension/issues"
  },
  "homepage": "https://github.com/aidm-team/vscode-extension#readme",
  "keywords": [
    "enterprise",
    "ai",
    "context",
    "business-requirements",
    "mcp",
    "model-context-protocol",
    "typescript",
    "hover",
    "documentation"
  ],
  "engines": {
    "vscode": "^1.80.0",
    "node": ">=20.0.0"
  },
  "capabilities": {
    "virtualWorkspaces": {
      "supported": "limited",
      "description": "Task management features work with virtual workspaces. File watching and some file operations may have limited functionality in virtual environments."
    }
  },
  "categories": [
    "Other",
    "Machine Learning",
    "Snippets"
  ],
  "activationEvents": [
    "onLanguage:typescript",
    "onCommand:aidm-vscode-extension.showStatus",
    "onCommand:aidm-vscode-extension.runRooCodeDemo",
    "onCommand:aidm-vscode-extension.restartServer",
    "onCommand:aidm-vscode-extension.connectRemoteMCP",
    "onCommand:aidm-vscode-extension.showDemoPanel",
    "onCommand:aidm-vscode-extension.testActivation",
    "onCommand:aidm-vscode-extension.openConfiguration",
    "onCommand:aidm-vscode-extension.hello",
    "onCommand:aidm-vscode-extension.seedHoverContext",
    "onCommand:aidm-vscode-extension.forceTest",
    "onCommand:aidm-vscode-extension.startup",
    "onCommand:aidm-vscode-extension.debug",
    "onCommand:aidm-vscode-extension.version",
    "onStartupFinished"
  ],
  "icon": "resources/images/icon.png",
  "galleryBanner": {
    "color": "#1e1e1e",
    "theme": "dark"
  },
  "main": "./dist/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "aidm-vscode-extension.showTasks",
        "title": "Show Tasks",
        "category": "Taskmaster",
        "icon": "$(list-tree)"
      },
      {
        "command": "aidm-vscode-extension.refreshTasks",
        "title": "Refresh Tasks",
        "category": "Taskmaster",
        "icon": "$(refresh)"
      },
      {
        "command": "aidm.openDiff",
        "title": "Open Git Diff",
        "category": "Taskmaster",
        "icon": "$(git-compare)"
      },
      {
        "command": "aidm.taskApi.configure",
        "title": "Configure Task API",
        "category": "AiDM",
        "icon": "$(settings-gear)"
      },
      {
        "command": "aidm.taskApi.connect",
        "title": "Connect to Task API",
        "category": "AiDM",
        "icon": "$(plug)"
      },
      {
        "command": "aidm.taskApi.disconnect",
        "title": "Disconnect from Task API",
        "category": "AiDM",
        "icon": "$(debug-disconnect)"
      },
      {
        "command": "aidm.taskApi.status",
        "title": "Show Task API Status",
        "category": "AiDM",
        "icon": "$(info)"
      },
      {
        "command": "aidm.taskApi.testConnection",
        "title": "Test API Connection",
        "category": "AiDM",
        "icon": "$(debug-connect)"
      }
    ],
    "configuration": {
      "title": "AiDM VSCode Extension",
      "properties": {
        "aidmVscodeExtension.mcpServer.port": {
          "type": "number",
          "default": 3005,
          "description": "Port for MCP server"
        },
        "aidmVscodeExtension.tasks.filePath": {
          "type": "string",
          "default": "tasks.json",
          "description": "Path to tasks.json file relative to workspace root",
          "pattern": "^[^<>:\"|?*\\x00-\\x1f]*\\.(json|JSON)$",
          "patternErrorMessage": "Must be a valid file path ending with .json"
        },
        "aidmVscodeExtension.taskApi.enabled": {
          "type": "boolean",
          "default": false,
          "description": "Enable task API integration for fetching tasks from external services"
        },
        "aidmVscodeExtension.taskApi.baseUrl": {
          "type": "string",
          "default": "",
          "description": "Task API base URL (e.g., https://api.yourcompany.com)",
          "pattern": "^https://.*",
          "patternErrorMessage": "Must be a valid HTTPS URL (HTTP not allowed for production APIs)"
        },
        "aidmVscodeExtension.taskApi.userId": {
          "type": "string",
          "default": "",
          "description": "Your user identifier for API task filtering"
        },
        "aidmVscodeExtension.taskApi.authToken": {
          "type": "string",
          "default": "",
          "description": "Bearer token or API key for authentication"
        },
        "aidmVscodeExtension.taskApi.enableStreaming": {
          "type": "boolean",
          "default": false,
          "description": "Enable real-time SSE streaming (optional, REST API is primary method)"
        },
        "aidmVscodeExtension.taskApi.pollInterval": {
          "type": "number",
          "default": 60000,
          "minimum": 10000,
          "maximum": 600000,
          "description": "API polling interval in milliseconds (10s-10m)"
        }
      }
    },
    "viewsContainers": {
      "activitybar": [
        {
          "id": "taskmaster",
          "title": "AiDM",
          "icon": "resources/images/icon.png"
        }
      ]
    },
    "views": {
      "taskmaster": [
        {
          "id": "aidm-vscode-extension.tasks-list",
          "name": "Tasks",
          "type": "webview",
          "when": "workspaceFolderCount > 0"
        }
      ]
    },
    "menus": {
      "view/item/context": [
        {
          "command": "aidm-vscode-extension.executeTaskWithCursor",
          "when": "view == aidm-vscode-extension.tasks-list && viewItem == executable-task",
          "group": "taskmaster@1"
        },
        {
          "command": "aidm-vscode-extension.updateTaskStatus",
          "when": "view == aidm-vscode-extension.tasks-list",
          "group": "taskmaster@2"
        },
        {
          "command": "aidm-vscode-extension.generateTaskPrompt",
          "when": "view == aidm-vscode-extension.tasks-list && viewItem == executable-task",
          "group": "taskmaster@1"
        },
        {
          "command": "aidm-vscode-extension.viewTestResults",
          "when": "view == aidm-vscode-extension.tasks-list && viewItem =~ /.*-with-tests$/",
          "group": "taskmaster@3"
        }
      ],
      "view/title": [
        {
          "command": "aidm-vscode-extension.refreshTasks",
          "when": "view == aidm-vscode-extension.tasks-list",
          "group": "navigation"
        }
      ]
    }
  },
  "scripts": {
    "compile": "webpack",
    "watch": "webpack --watch",
    "test": "jest",
    "lint": "eslint src --ext ts",
    "package": "node package-extension.js",
    "compile-tsc": "tsc -p ./",
    "pretest": "npm run compile && npm run lint",
    "validate-manifest": "node scripts/validate-manifest.js",
    "test:packaging": "node scripts/test-packaging.js",
    "compile-templates": "node scripts/compile-templates.js",
    "prebuild": "npm run compile-templates"
  },
  "devDependencies": {
    "@types/jest": "^29.5.14",
    "@types/node": "20.x",
    "@types/vscode": "^1.80.0",
    "@typescript-eslint/eslint-plugin": "^6.4.1",
    "@typescript-eslint/parser": "^6.4.1",
    "@vscode/vsce": "^3.6.0",
    "eslint": "^8.47.0",
    "jest": "^29.5.0",
    "raw-loader": "^4.0.2",
    "rimraf": "^5.0.0",
    "ts-jest": "^29.1.0",
    "ts-loader": "^9.5.2",
    "typescript": "^5.1.6",
    "webpack": "^5.101.3",
    "webpack-cli": "^6.0.1"
  },
  "dependencies": {
    "axios": "^1.11.0"
  }
}
